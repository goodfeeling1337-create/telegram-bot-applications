# install.ps1 - –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è Windows

Write-Host "üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Telegram –±–æ—Ç–∞..." -ForegroundColor Green

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Python
if (-not (Get-Command python -ErrorAction SilentlyContinue)) {
    Write-Host "‚ùå Python –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python —Å python.org" -ForegroundColor Red
    Write-Host "–°–∫–∞—á–∞–π—Ç–µ Python: https://www.python.org/downloads/" -ForegroundColor Yellow
    exit 1
}

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
Write-Host "üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è..." -ForegroundColor Yellow
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
Write-Host "üîß –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è..." -ForegroundColor Yellow
& ".\venv\Scripts\Activate.ps1"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
Write-Host "üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..." -ForegroundColor Yellow
pip install -r requirements.txt

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if (-not (Test-Path .env)) {
    Write-Host "‚öôÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞..." -ForegroundColor Yellow
    @"
BOT_TOKEN=your_bot_token_here
ADMIN_USER_IDS=your_admin_id1,your_admin_id2
DATABASE_PATH=database.db
"@ | Out-File -FilePath .env -Encoding UTF8
    Write-Host "üìù –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏" -ForegroundColor Cyan
}

Write-Host "‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!" -ForegroundColor Green
Write-Host ""
Write-Host "üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:" -ForegroundColor Cyan
Write-Host "1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª: notepad .env" -ForegroundColor White
Write-Host "2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: python bot.py" -ForegroundColor White
Write-Host "3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ systemd —Å–µ—Ä–≤–∏—Å (—Å–º. INSTALL.md)" -ForegroundColor White
